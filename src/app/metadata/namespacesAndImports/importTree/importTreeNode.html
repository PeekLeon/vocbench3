<div class="treeNode listItem">
	<div class="expandCollapseBtnContainer">
        <img *ngIf="import.imports.length > 0" src="./assets/images/icons/arrow.png" (click)="open = !open"
            [ngClass]="{'arrow-right': !open}">
	</div>
    <div style="flex: 1;" [ngClass]="{ proposedAddTriple: import.status == 'STAGED_ADDITION', proposedRemoveTriple: import.status == 'STAGED_REMOVAL' }">
        {{import.id}}
    </div>
    <span *ngIf="import.status == 'LOOP'" class="fas fa-redo" style="margin-right: 6px;" title="Loop of imports"></span>
    
    <div *ngIf="import.status == 'FAILED'" class="btn-group" ngbDropdown>
        <button class="btn btn-light btn-xs dropdown-toggle" data-toggle="dropdown" ngbDropdownToggle title="Failed import">
            <span class="fas fa-exclamation-triangle"></span>
        </button>
        <div class="dropdown-menu float-right" ngbDropdownMenu>
            <a class="dropdown-item" (click)="repairFromLocalFile()">Repair from local file</a>
            <a class="dropdown-item" (click)="repairFromWeb()">Repair from web</a>
            <a class="dropdown-item" (click)="repairFromWebToMirror()">Repair from web to mirror</a>
        </div>
    </div>

    <button *ngIf="import['root']" class="btn btn-light btn-xs" (click)="removeImport()" [disabled]="!isDeleteImportAuthorized()">
        <span class="far fa-trash-alt" title="Remove import"></span>
    </button>
</div>

<div class="subTree" *ngIf="import.imports.length > 0 && open">
    <import-tree-node *ngFor="let i of import.imports" [import]="i" (nodeRemoved)="onNodeRemoved($event)" (update)="onUpdate()">
    </import-tree-node>
</div>